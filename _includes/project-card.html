{% assign project = site.projects
  | where_exp: "project", "project.slug == include.lookup"
  | first
  | default: include
%}
{{ " " }}
<div class="card" data-style="{{ include.style }}">
  {% assign url = project.url %}
  <a href="{{ url | relative_url }}"
    aria-label="{{ include.title | default: "card link" }}"
    class="card-image"
  >
    <img
      src="{{ include.image | relative_url }}"
      alt="{{ include.title | default: "card image" }}"
      loading="lazy"
      {% include fallback.html %}
    >
  </a>

  <div class="card-text">
    {% if include.title %}
      <a href="{{ url | relative_url }}"
        {% if include.tooltip %}
          data-tooltip="{{ include.tooltip }}"
        {% endif %}
        class="card-title"
      >
        {{ include.title }}
    </a>
    {% endif %}

    {% if include.subtitle %}
      <span class="card-subtitle">{{ include.subtitle }}</span>
    {% endif %}

    {% if include.description %}
      {{ include.description | markdownify }}
    {% endif %}

    {% if include.tags or include.repo %}
      {% include tags.html tags=include.tags repo=include.repo %}
    {% endif %}
  </div>
</div>
